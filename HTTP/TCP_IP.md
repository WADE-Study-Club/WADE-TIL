# TCP/IP

TCP/IP : 인터넷과 관련된 프로토콜들을 모은것입니다.

- TCP/IP는 애플리케이션 계층, 트렌스포트 계층, 네트워크 계층, 링크 계층으로 나뉘어 있습니다.
- 이렇게 계층으로 나뉘어져 있는 이유 : 만약 인터넷이 하나의 프로토콜로 되어있다면 어디선가 사양이 변경되었을 때 전체를 바꾸지 않으면 안되지만, 계층화되어 있으면 사양이 변경된 해당 계층만 바꾸면 되기 때문입니다. 또한 설계를 편하게 할 수 있습니다.

**애플리케이션 계층**

애플리케이션 계층은 유저에게 제공되는 애플리케이션에서 사용하는 통신의 움직임을 결정하고 있습니다.

**트랜스포트 계층**

애플리케이션 계층에 네트워크로 접속되어 있는 2대의 컴퓨터 사이의 데이터 흐름을 제공합니다.

TCP(Transmission Control Protocol), UDP(User Data Protocol)가 있습니다.

**네트워크 계층**

네트워크 상에서 패킷의 이동 경로를 결정하는 역할을 합니다.

인터넷의 경우, 상대 컴퓨터에 도달하는 동안에 여러 대의 컴퓨터랑 네트워크 기기를 거쳐 상대방에게 배송됩니다. 그러한 여러 가지 선택지 중에서 하나의 길을 결정하는 것이 네트워크 계층의 역할입니다.

**링크 계층**

네트워크에 접속하는 하드웨어적인 면을 다룹니다.

### TCP/IP 통신

![image](https://user-images.githubusercontent.com/60416187/114035507-1e9ee180-98ba-11eb-8732-6002855fdaea.png)

HTTP를 예로 들어 TCP/IP의 통신을 설명 해보겠습니다.

1. 송신측 클라이언트의 애플리케이션 계층(HTTP)에서 어느 웹 페이지를 보고 싶다는 HTTP 리퀘스트를 지시합니다.
2. 트랜스포트 계층(TCP)에서 애플리케이션 계층에서 받은 데이터를 통신하기 쉽게 조각내어 안내 번호와 포트 번호를 붙여 네트워크 계층에 전달합니다.
3. 네트워크 계층에서는 수신지 MAC 주소를 추가해서 링크 계층에 전달합니다.
4. 수신측 서버는 링크 계층에서 데이터를 받아들여 순서대로 위의 계층에 전달하여 애플리케이션 계층까지 도달합니다.
5. 애플리케이션 계층에 도달하게 되면 클라이언트가 발신했던 HTTP리퀘스트 내용을 수신할 수 있습니다.

- 송신 측에서는 각 계층을 거칠 때에는 반드시 헤더로 불려지는 해당 계층마다 해당 계층에 필요한 정보를 추가합니다.
- 반대로 수신 측에서는 각 계층을 거칠 때마다 반드시 해당 계층마다 사용한 헤더를 삭제합니다.
- 이렇게 정보를 감싸는 것을 캡슐화 라고 합니다.
